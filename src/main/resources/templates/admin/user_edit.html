<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" xmlns:sec="http://www.thymeleaf.org/extras/spring-security">
<head>
    <th:block th:replace="~{index :: common_head('íšŒì› ì •ë³´ ê´€ë¦¬ | ê´€ë¦¬ì')}"></th:block>
    <style>
        :root { --brand-blue: #007bff; } /* íŒŒë€ìƒ‰ ê³ ì • */
        body { font-family: 'Pretendard', sans-serif; background: #f0f2f5; margin: 0; }
        .edit-container { max-width: 650px; margin: 60px auto; background: #fff; padding: 40px; border-radius: 20px; box-shadow: 0 15px 35px rgba(0,0,0,0.08); }
        .edit-header { text-align: center; margin-bottom: 35px; }
        .edit-header h2 { color: var(--brand-blue); font-size: 26px; margin-bottom: 10px; }
        .edit-header p { color: #718096; font-size: 14px; }
        .form-grid { display: grid; grid-template-columns: 1fr 1fr; gap: 20px; }
        .full-width { grid-column: span 2; }
        .form-group { margin-bottom: 22px; }
        label { display: block; font-size: 13px; font-weight: 700; margin-bottom: 8px; color: #4a5568; }
        input, select { width: 100%; padding: 12px 15px; border: 1px solid #e2e8f0; border-radius: 8px; box-sizing: border-box; font-size: 15px; transition: all 0.2s ease; color: #2d3748; }
        input:focus, select:focus { outline: none; border-color: var(--brand-blue); box-shadow: 0 0 0 3px rgba(0, 123, 255, 0.1); }
        input[readonly] { background: #f7fafc; color: #a0aec0; cursor: not-allowed; }
        .danger-zone { margin-top: 30px; padding: 25px; background: #fff5f5; border-radius: 12px; border: 1px solid #fed7d7; }
        .danger-title { font-size: 14px; font-weight: bold; color: #c53030; margin-bottom: 15px; display: flex; align-items: center; gap: 5px; }
        .btn-group { display: flex; gap: 12px; margin-top: 40px; }
        .btn-save { flex: 2; padding: 16px; background: var(--brand-blue); color: white; border: none; border-radius: 10px; cursor: pointer; font-weight: bold; font-size: 16px; transition: 0.3s; }
        .btn-save:hover { background: #0056b3; transform: translateY(-2px); }
        .btn-cancel { flex: 1; padding: 16px; background: #edf2f7; color: #4a5568; text-decoration: none; border-radius: 10px; text-align: center; font-weight: bold; font-size: 16px; transition: 0.2s; }
        .btn-cancel:hover { background: #e2e8f0; }
        .btn-delete { width: 100%; margin-top: 15px; background: transparent; color: #e53e3e; padding: 10px; border: 1px solid #feb2b2; border-radius: 8px; cursor: pointer; font-size: 13px; transition: 0.2s; }
        .btn-delete:hover { background: #fff5f5; color: #c53030; }
    </style>
</head>
<body>

<nav th:replace="~{index :: menu}"></nav>

<div class="edit-container">
    <div class="edit-header">
        <h2>ğŸ› ï¸ íšŒì› ì •ë³´ ì œì–´</h2>
        <p>ê´€ë¦¬ì ê¶Œí•œìœ¼ë¡œ í•´ë‹¹ íšŒì›ì˜ ì •ë³´ë¥¼ ê°•ì œë¡œ ìˆ˜ì •í•˜ê±°ë‚˜ ì œì–´í•©ë‹ˆë‹¤.</p>
    </div>

    <form th:action="@{/admin/users/update}" method="post">
        <div class="form-grid">
            <div class="form-group">
                <label>ì•„ì´ë””</label>
                <input type="text" name="userId" th:value="${member.userId}" readonly>
            </div>
            <div class="form-group">
                <label>ê¶Œí•œ ë“±ê¸‰</label>
                <select name="role">
                    <option value="USER" th:selected="${member.role == 'USER'}">ì¼ë°˜ ì‚¬ìš©ì (USER)</option>
                    <option value="ADMIN" th:selected="${member.role == 'ADMIN'}">ê´€ë¦¬ì (ADMIN)</option>
                </select>
            </div>
            <div class="form-group">
                <label>ì´ë¦„</label>
                <input type="text" name="name" th:value="${member.name}" required>
            </div>
            <div class="form-group">
                <label>ì„±ë³„</label>
                <select name="gender">
                    <option value="M" th:selected="${member.gender == 'M'}">ë‚¨ì„±</option>
                    <option value="F" th:selected="${member.gender == 'F'}">ì—¬ì„±</option>
                </select>
            </div>
            <div class="form-group full-width">
                <label>ì´ë©”ì¼</label>
                <input type="email" name="userEmail" th:value="${member.userEmail}" required>
            </div>
            <div class="form-group full-width">
                <label>ìƒë…„ì›”ì¼</label>
                <input type="text" name="birth" th:value="${member.birth}" placeholder="YY/MM/DD (ì˜ˆ: 00/01/01)" pattern="\d{2}/\d{2}/\d{2}">
            </div>
        </div>

        <div class="danger-zone">
            <div class="danger-title">ë³´ì•ˆ ê´€ë¦¬</div>
            <div class="form-group" style="margin-bottom: 0;">
                <label style="color: #e53e3e;">ë¹„ë°€ë²ˆí˜¸ ê°•ì œ ì¬ì„¤ì •</label>
                <input type="password" name="newPw" placeholder="ìƒˆë¡œìš´ ë¹„ë°€ë²ˆí˜¸ë¥¼ ì…ë ¥í•˜ë©´ ì¦‰ì‹œ ë³€ê²½ë©ë‹ˆë‹¤.">
            </div>
        </div>

        <div class="btn-group">
            <a th:href="@{/admin/users}" class="btn-cancel">ì·¨ì†Œ</a>
            <button type="submit" class="btn-save">ìˆ˜ì • ì‚¬í•­ ë°˜ì˜í•˜ê¸°</button>
        </div>
    </form>

    <form th:action="@{/admin/users/delete/{id}(id=${member.userId})}" method="post"
          onsubmit="return confirm('ê²½ê³ : íšŒì›ì„ ì‚­ì œí•˜ë©´ ëª¨ë“  ë°ì´í„°ê°€ ì†Œì‹¤ë©ë‹ˆë‹¤. ì§„í–‰í•˜ì‹œê² ìŠµë‹ˆê¹Œ?');"
          style="margin-top: 10px;">
        <button type="submit" class="btn-delete">ì´ íšŒì› ê³„ì • ì˜êµ¬ ì‚­ì œ</button>
    </form>
</div>
</body>
</html>