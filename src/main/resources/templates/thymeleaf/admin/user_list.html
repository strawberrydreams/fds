<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>íšŒì› ê´€ë¦¬ | ê´€ë¦¬ì ëª¨ë“œ</title>
    <style>
        body { font-family: 'Pretendard', sans-serif; background: #f0f2f5; margin: 0; }

        .admin-container {
            max-width: 1100px;
            margin: 50px auto;
            background: #fff;
            padding: 30px;
            border-radius: 16px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.05);
        }

        .header-flex {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 25px;
            padding-bottom: 15px;
            border-bottom: 2px solid #f0f2f5;
        }

        .header-flex h2 {
            color: #001a72;
            margin: 0;
            font-size: 22px;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        /* í…Œì´ë¸” ìŠ¤íƒ€ì¼ */
        .table-wrapper { overflow-x: auto; }
        table { width: 100%; border-collapse: separate; border-spacing: 0; margin-top: 10px; }

        th {
            background: #f8f9fa;
            color: #5d6778;
            font-weight: 600;
            padding: 15px;
            text-align: left;
            font-size: 13px;
            border-bottom: 2px solid #edf2f7;
            text-transform: uppercase;
            letter-spacing: 0.5px;
        }

        td {
            padding: 16px 15px;
            border-bottom: 1px solid #f0f2f5;
            font-size: 14px;
            color: #4a5568;
            vertical-align: middle;
        }

        tr:hover td { background-color: #fcfdfe; transition: 0.2s; }
        tr:last-child td { border-bottom: none; }

        /* ê¶Œí•œ ë°°ì§€ ìŠ¤íƒ€ì¼ */
        .role-badge {
            padding: 5px 12px;
            border-radius: 20px;
            font-size: 11px;
            font-weight: 800;
            display: inline-block;
            letter-spacing: 0.3px;
        }
        .role-admin { background: #fff5f5; color: #e74c3c; border: 1px solid #feb2b2; }
        .role-user { background: #ebf8ff; color: #3182ce; border: 1px solid #bee3f8; }

        /* ë²„íŠ¼ ìŠ¤íƒ€ì¼ */
        .btn-edit {
            background: #fff;
            color: #001a72;
            padding: 7px 15px;
            border-radius: 6px;
            text-decoration: none;
            font-size: 13px;
            font-weight: bold;
            border: 1px solid #001a72;
            transition: 0.2s;
        }
        .btn-edit:hover { background: #001a72; color: #fff; }

        /* ì´ë©”ì¼/ì•„ì´ë”” ê°•ì¡° */
        .text-bold { font-weight: 600; color: #2d3748; }
        .text-muted { color: #a0aec0; font-size: 12px; }
    </style>
</head>
<body>
<div th:replace="~{thymeleaf/fragments/header :: mainHeader}"></div>

<div class="admin-container">
    <div class="header-flex">
        <h2>ğŸ‘¥ ì „ì²´ íšŒì› ë¦¬ìŠ¤íŠ¸</h2>
        <span class="text-muted" th:text="'ì´ ê°€ì…ì: ' + ${users.size()} + 'ëª…'"></span>
    </div>

    <div class="table-wrapper">
        <table>
            <thead>
            <tr>
                <th>ì•„ì´ë””</th>
                <th>ì´ë¦„</th>
                <th>ì—°ë½ì²˜(ì´ë©”ì¼)</th>
                <th>ìƒë…„ì›”ì¼</th>
                <th>ê¶Œí•œ ë“±ê¸‰</th>
                <th>ì•¡ì…˜</th>
            </tr>
            </thead>
            <tbody>
            <tr th:each="user : ${users}">
                <td>
                    <span class="text-bold" th:text="${user.userId}">admin1234</span>
                </td>
                <td th:text="${user.name}">í™ê¸¸ë™</td>
                <td th:text="${user.userEmail}">admin@example.com</td>
                <td>
                    <span th:text="${user.birth != null ? #strings.substring(user.birth, 0, 10) : '-'}">2000-01-01</span>
                </td>
                <td>
                        <span th:classappend="${user.role == 'ADMIN'} ? 'role-badge role-admin' : 'role-badge role-user'"
                              th:text="${user.role}">USER</span>
                </td>
                <td>
                    <a th:href="@{/admin/users/edit/{id}(id=${user.userId})}" class="btn-edit">ìˆ˜ì •</a>
                </td>
            </tr>
            </tbody>
        </table>
    </div>
</div>
</body>
</html>