<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>íšŒì› ì •ë³´ ê°•ì œ ìˆ˜ì • | ê´€ë¦¬ì</title>
    <style>
        body { font-family: 'Pretendard', sans-serif; background: #f4f7f9; margin: 0; }
        .edit-container { max-width: 600px; margin: 50px auto; background: #fff; padding: 40px; border-radius: 12px; box-shadow: 0 5px 20px rgba(0,0,0,0.1); }
        h2 { color: #e74c3c; border-bottom: 2px solid #e74c3c; padding-bottom: 10px; margin-bottom: 30px; }

        .form-group { margin-bottom: 20px; }
        label { display: block; font-size: 14px; font-weight: bold; margin-bottom: 8px; color: #555; }
        input, select { width: 100%; padding: 12px; border: 1px solid #ddd; border-radius: 6px; box-sizing: border-box; }
        input[readonly] { background: #f8f9fa; color: #888; }

        .btn-group { display: flex; gap: 10px; margin-top: 30px; }
        .btn-save { flex: 2; padding: 15px; background: #e74c3c; color: white; border: none; border-radius: 6px; cursor: pointer; font-weight: bold; }
        .btn-cancel { flex: 1; padding: 15px; background: #95a5a6; color: white; text-decoration: none; border-radius: 6px; text-align: center; font-weight: bold; }

        .delete-section { margin-top: 40px; padding-top: 20px; border-top: 1px dashed #ddd; text-align: right; }
        .btn-delete { background: #000; color: white; padding: 10px 20px; border: none; border-radius: 6px; cursor: pointer; }
    </style>
</head>
<body>
<div th:replace="~{thymeleaf/fragments/header :: mainHeader}"></div>

<div class="edit-container">
    <h2>ğŸ› ï¸ íšŒì› ì •ë³´ ê°•ì œ ìˆ˜ì • (ê´€ë¦¬ì)</h2>
    <form th:action="@{/admin/users/update}" method="post">
        <div class="form-group">
            <label>ì•„ì´ë”” (ìˆ˜ì • ë¶ˆê°€)</label>
            <input type="text" name="userId" th:value="${member.userId}" readonly>
        </div>

        <div class="form-group">
            <label>ì´ë¦„</label>
            <input type="text" name="name" th:value="${member.name}" required>
        </div>

        <div class="form-group">
            <label>ì´ë©”ì¼</label>
            <input type="email" name="userEmail" th:value="${member.userEmail}" required>
        </div>

        <div class="form-group">
            <label>ìƒë…„ì›”ì¼</label>
            <input type="date" name="birth" th:value="${member.birth}">
        </div>

        <div class="form-group">
            <label>ì„±ë³„</label>
            <select name="gender">
                <option value="M" th:selected="${member.gender == 'M'}">ë‚¨ì„±</option>
                <option value="F" th:selected="${member.gender == 'F'}">ì—¬ì„±</option>
            </select>
        </div>

        <div class="form-group">
            <label>ê¶Œí•œ ì„¤ì •</label>
            <select name="role">
                <option value="USER" th:selected="${member.role == 'USER'}">ì¼ë°˜ ì‚¬ìš©ì (USER)</option>
                <option value="ADMIN" th:selected="${member.role == 'ADMIN'}">ê´€ë¦¬ì (ADMIN)</option>
            </select>
        </div>

        <div class="form-group" style="background: #fff5f5; padding: 15px; border-radius: 8px; border: 1px solid #feb2b2;">
            <label style="color: #c53030;">ğŸ”’ ë¹„ë°€ë²ˆí˜¸ ê°•ì œ ë³€ê²½</label>
            <input type="password" name="newPw" placeholder="ìƒˆ ë¹„ë°€ë²ˆí˜¸ ì…ë ¥ ì‹œì—ë§Œ ë³€ê²½ë¨">
            <p style="font-size: 12px; color: #e53e3e; margin-top: 5px;">* ì‚¬ìš©ìê°€ ë¹„ë°€ë²ˆí˜¸ë¥¼ ë¶„ì‹¤í•œ ê²½ìš°ì—ë§Œ ì…ë ¥í•˜ì„¸ìš”.</p>
        </div>

        <div class="btn-group">
            <a th:href="@{/admin/users}" class="btn-cancel">ì·¨ì†Œ</a>
            <button type="submit" class="btn-save">ìˆ˜ì • ì‚¬í•­ ê°•ì œ ì ìš©</button>
        </div>
    </form>

    <div class="delete-section">
        <form th:action="@{/admin/users/delete/{id}(id=${member.userId})}" method="post" onsubmit="return confirm('ì •ë§ë¡œ ì´ íšŒì›ì„ ê°•ì œ íƒˆí‡´ì‹œí‚¤ê² ìŠµë‹ˆê¹Œ?');">
            <button type="submit" class="btn-delete">íšŒì› ê°•ì œ ì‚­ì œ</button>
        </form>
    </div>
</div>

<script th:inline="javascript">
    /*[# th:if="${msg}"]*/
    alert([[${msg}]]);
    /*[/]*/
</script>
</body>
</html>