<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>ì…ê¸ˆí•˜ê¸° - FDS BANK</title>

    <th:block th:replace="~{index :: menuStyle}"></th:block>

    <style>
        /* ë³¸ë¬¸ ì „ìš© ìŠ¤íƒ€ì¼ (ì…ê¸ˆ í˜ì´ì§€ íŠ¹í™”) */
        .container {
            max-width: 450px;
            margin: 60px auto;
            background: white;
            padding: 40px;
            border-radius: 15px;
            box-shadow: 0 10px 25px rgba(0,0,0,0.1);
        }

        h2 { color: #28a745; text-align: center; margin-bottom: 30px; border-bottom: 3px solid #28a745; padding-bottom: 15px; }

        /* ê³„ì¢Œ ì„ íƒ ë°•ìŠ¤ ìŠ¤íƒ€ì¼ë§ */
        .form-group select {
            width: 100%;
            padding: 12px;
            border: 1px solid #ddd;
            border-radius: 8px;
            font-size: 16px;
            background-color: #f1f8ff;
            cursor: pointer;
            outline: none;
            transition: 0.3s;
        }
        .form-group select:focus {
            border-color: #007bff;
            box-shadow: 0 0 5px rgba(0,123,255,0.1);
        }

        .form-group { margin-bottom: 25px; }
        label { display: block; margin-bottom: 8px; font-weight: 600; color: #4b4b4b; }

        input {
            width: 100%;
            padding: 12px;
            border: 1px solid #ddd;
            border-radius: 8px;
            font-size: 16px;
            transition: 0.3s;
            box-sizing: border-box;
        }
        input:focus { border-color: #28a745; outline: none; box-shadow: 0 0 5px rgba(40, 167, 69, 0.2); }

        .btn-submit {
            width: 100%;
            padding: 15px;
            background-color: #28a745;
            color: white;
            border: none;
            border-radius: 8px;
            cursor: pointer;
            font-size: 18px;
            font-weight: bold;
            transition: 0.3s;
            margin-top: 10px;
        }
        .btn-submit:hover { background-color: #218838; transform: translateY(-2px); }

        .footer-link { text-align: center; margin-top: 20px; }
        .footer-link a { color: #999; text-decoration: none; font-size: 14px; }
        .footer-link a:hover { color: #666; text-decoration: underline; }

        .error-msg {
            color: #721c24;
            background: #f8d7da;
            padding: 12px;
            border-radius: 8px;
            margin-bottom: 20px;
            font-size: 14px;
            font-weight: bold;
            text-align: center;
        }
    </style>
</head>
<body>

<div th:replace="~{index :: menu}"></div>

<div class="container">
    <h2>ğŸ’° ì…ê¸ˆí•˜ê¸°</h2>

    <div class="error-msg" th:if="${error}" th:text="${error}"></div>

    <form th:action="@{/account/deposit}" method="post">

        <div class="form-group">
            <label>ì…ê¸ˆí•  ê³„ì¢Œ ì„ íƒ</label>
            <select name="accountNumber" required>
                <option value="">-- ì…ê¸ˆí•˜ì‹¤ ê³„ì¢Œë¥¼ ì„ íƒí•˜ì„¸ìš” --</option>
                <option th:each="acc : ${accounts}"
                        th:value="${acc.accountNumber}"
                        th:selected="${acc.accountNumber == accountNumber}"
                        th:text="|${acc.accountNumber} (ì”ì•¡: ${#numbers.formatInteger(acc.balance, 0, 'COMMA')}ì›)|">
                </option>
            </select>
        </div>

        <div class="form-group">
            <label>ì…ê¸ˆ ê¸ˆì•¡ (ì›)</label>
            <input type="number" name="amount" min="100" placeholder="100ì› ì´ìƒ ì…ë ¥ ê°€ëŠ¥" required>
        </div>

        <div class="form-group">
            <label>ê³„ì¢Œ ë¹„ë°€ë²ˆí˜¸ (4ìë¦¬)</label>
            <input type="password"
                   name="password"
                   maxlength="4"
                   pattern="\d{4}"
                   inputmode="numeric"
                   placeholder="ë¹„ë°€ë²ˆí˜¸ 4ìë¦¬ë¥¼ ì…ë ¥í•˜ì„¸ìš”"
                   required>
            <p style="font-size: 11px; color: #999; margin-top: 5px;">
                * ì•ˆì „í•œ ê±°ë˜ë¥¼ ìœ„í•´ ë¹„ë°€ë²ˆí˜¸ë¥¼ í™•ì¸í•©ë‹ˆë‹¤.
            </p>
        </div>

        <button type="submit" class="btn-submit"> ì…ê¸ˆ í™•ì • </button>
    </form>

    <div class="footer-link">
        <a th:href="@{/account/list}">â† ì·¨ì†Œí•˜ê³  ëª©ë¡ìœ¼ë¡œ</a>
    </div>
</div>

</body>
</html>